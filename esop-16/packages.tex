% For pdflatex, replaced by fontspec:
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage{fixltx2e}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage{url}
\usepackage{fancyvrb}
\usepackage{mdwlist}  % Miscellaneous list-related commands
\usepackage{xspace}   % Smart spacing
\usepackage{ucs}
\usepackage{comment}

\usepackage{tikz}
\usetikzlibrary{positioning}

\usepackage{amsmath,amssymb}
% \usepackage{amsthm}
\usepackage{bm}         % Bold symbols in maths mode
\usepackage{dsfont}
\usepackage{stmaryrd}
\usepackage{mathtools}  % For "::=" ( \Coloneqq )

% http://tex.stackexchange.com/questions/114151/how-do-i-reference-in-appendix-a-theorem-given-in-the-body
\usepackage{thmtools, thm-restate}

% \theoremstyle{definition}
% \newtheorem{definition}{Definition}
% \newtheorem{example}{Example}[section]
%
% \theoremstyle{plain}
% \newtheorem{theorem}{Theorem}
% \newtheorem{lemma}{Lemma}
% \newtheorem*{remark}{Remark}

\usepackage{cleveref}  % Never do "Theorem~\ref{thm1}" agin!
\crefname{lemma}{Lemma}{Lemmas}

% Font
% \usepackage{tgpagella}
\usepackage[euler-digits,euler-hat-accent]{eulervm}

% Figures with borders
% http://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions
% \usepackage{float}
% \floatstyle{boxed}
% \restylefloat{figure}

% Typesetting inference rules
\usepackage{styles/bcprules}    % by Benjamin C. Pierce
\usepackage{styles/cmll}
\usepackage{styles/mathpartir}  % by Didier RÃ©my

\usepackage{listings}   % For code listings

\lstset{%
  basicstyle=\ttfamily\small, % the size of the fonts that are used for the code
  keywordstyle=\sffamily\bfseries,
  captionpos=none,
  columns=flexible,
  lineskip=-1pt,
  keepspaces=true,
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=true,         % sets if automatic breaks should only happen at whitespace
  escapeinside={(*}{*)},
  sensitive=true
}

\lstdefinestyle{sourcelanguage}{
  tabsize=2, % sets default tabsize to 2 spaces
  morekeywords={type,trait,new,let,rec,in},
  otherkeywords={->},
  morecomment=[l]{--},
  morestring=[b]", % 'b' means inside a string delimiters are escaped by a backslash.
  morestring=[b]',
}

\lstset{style=sourcelanguage}

% Copied from the FCore paper:
\usepackage[colorlinks=true,allcolors=black,breaklinks,draft=false]{hyperref}   % hyperlinks, including DOIs and URLs in bibliography
% known bug: http://tex.stackexchange.com/questions/1522/pdfendlink-ended-up-in-different-nesting-level-than-pdfstartlink
