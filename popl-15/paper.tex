\documentclass[nocopyrightspace,preprint,times,9pt]{sigplanconf}

\input{preamble.tex}

\begin{document}

\special{papersize=8.5in,11in}
\setlength{\pdfpageheight}{\paperheight}
\setlength{\pdfpagewidth}{\paperwidth}

\conferenceinfo{CONF 'yy}{Month d--d, 20yy, City, ST, Country}
\copyrightyear{20yy}
\copyrightdata{978-1-nnnn-nnnn-n/yy/mm}
\doi{nnnnnnn.nnnnnnn}

\titlebanner{banner above paper title}        % These are ignored unless
\preprintfooter{\name}                        % 'preprint' option specified.

\title{System \name: A Simple Core Language for Extensibility}
%%\subtitle{Subtitle Text, if any}

\authorinfo{Name1}
           {Affiliation1}
           {Email1}
\authorinfo{Name2\and Name3}
           {Affiliation2/3}
           {Email2/3}

\maketitle

\begin{abstract}
  
Previous work by Dunfield has shown that a simply typed core calculus with
intersection types and a merge operator provides a powerful foundation
for various programming language features. However, while his calculus
is type-safe, it lacks the important property of \emph{coherence}:
different derivations for the same expression can lead to different
results. The lack of coherence is important disavantage for adoption
of his core calculus in implementations of programming languages, as
the semantics of the programming language becomes implementation
dependent.

This paper presents \name: a core calculus with a variant of
\emph{intersection types}, \emph{parametric polymorphism} and a
\emph{merge operator}. The semantics \name is both type-safe and
coherent. Coherence is achieved by ensuring that intersection types
are \emph{disjoint}. Formally two types are disjoint if they do not
share a common supertype. We present a type system that prevents
intersection types that are not disjoint, as well as an algorithmic
specification to determine whether two types are disjoint. Moreover we
show that this approach extends to systems with parametric
polymorphism. Parametric polymorphism makes the problem of coherence
significantly harder. When a type variable occurs in an intersection
type, it is not statically known whether the instantiated type will
share a common supertype with other components of the intersection.
To address this problem we propose \emph{disjoint quantification}: a
constrained form of parametric polymorphism, that allows programmers
to specify disjointness constraints for type variables. With disjoint
quantification the calculus remains very flexible in terms of programs 
that can be written with intersection types, while retaining coherence.

\end{abstract}

%%\category{CR-number}{subcategory}{third-level}

% general terms are not compulsory anymore,
% you may leave them out
%%\terms
%%Design, Languages, Theory

%%\keywords
%%Intersecion Types, Polymorphism, Type System

\input{sections/introduction.tex}
\input{sections/overview.tex}
\input{sections/application.tex}
\input{sections/fi.tex}
\input{sections/translation.tex}
\input{sections/implementation.tex}

\section{Disjoint Intersection Types}

This section shows how to restrict the system presented before 
so that it supports coherence as well as type soundness. 
The keys aspects are the notion of disjoint intersections, 
and disjoint quantification for polymorphic types. 

\subsection{Motivating design choices}\bruno{Maybe this belongs to Section 2?}

We need to motivate the 3 changes:

\paragraph{Well-formed types}: We need a new notion of well-formed types.

\paragraph{Disjoint quantification}: Needed when we have a 
combination of polymorphism and intersection types.

\paragraph{Restrictions on subtyping}: 

\subsection{Disjointness}

Spec of disjointness/intuition ...

\subsection{Well-formed types}

\subsection{Subtyping}

\subsection{Metatheory}

\section{Algorithmic Disjointness}

Although the system in the previous section shows a formal system of
disjoint intersection types, it relies on a non-algorithmic
specification of disjointness. This section shows an algorithmic
specification of disjointness that is proved to be sound and complete.

\subsection{Formal System}

Explain the rules and intuitions.

\subsection{Soundness and Completeness}



\input{sections/related-work.tex}
\input{sections/conclusion.tex}

\input{sections/bibliography.tex}

\begin{comment}
\acks

Acknowledgments, if needed.
\end{comment}

\clearpage
\onecolumn
\appendix
\input{sections/type-wellformedness.tex}
\input{sections/target-type-system.tex}
\input{sections/proofs.tex}

\end{document}
