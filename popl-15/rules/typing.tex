% Var
\newcommand{\rulelabelVar}{\text{TyVar}}
\newcommand{\tyvar} {
\inferrule* [right=$\rulelabelVar$]
  {x \hast A \in \Gamma}
  {\hastype \Gamma x A \yields x}
}

% Top
\newcommand{\rulelabelTop}{\text{TyTop}}
\newcommand{\ruleTop} {
\inferrule* [right=$\rulelabelTop$]
  { }
  {\hastype \Gamma \top \top \yields {()}}
}

% Lam
\newcommand{\rulelabelLam}{\text{TyLam}}
\newcommand{\tylam} {
\inferrule* [right=$\rulelabelLam$]
  {\istype \Gamma A \\ \hastype {\Gamma, x \hast A} e B \yields E}
  {\hastype \Gamma {\lam x A e} {A \to B} \yields {\lam x {\im A} E}}
}

% App
\newcommand{\rulelabelApp}{\text{TyApp}}
\newcommand{\tyapp}{
\inferrule* [right=$\rulelabelApp$]
  {\hastype \Gamma {e_1} {A_1 \to A_2} \yields {E_1} \\
   \hastype \Gamma {e_2} {A_3} \yields {E_2} \\
   A_3 \subtype A_1 \yields C}
  {\hastype \Gamma {\app {e_1} {e_2}} {A_2} \yields {\app {E_1} {(\app C E_2)}}}
}

% BLam
\newcommand{\rulelabelBLam}{\text{TyBLam}}
\newcommand{\tyblam}{
\inferrule* [right=$\rulelabelBLam$]
  {\hastype {\Gamma, \alpha * B} e A \yields E \\ \istype \Gamma B}
  {\hastype \Gamma {\blam {\alpha * B} e} {\for {\alpha * B} A} \yields {\blam \alpha E}}
}

% TApp
\newcommand{\rulelabelTApp}{\text{TyTApp}}
\newcommand{\tytapp}{
\inferrule* [right=$\rulelabelTApp$]
  {\hastype \Gamma e {\for {\alpha * C} B} \yields E \\ \isdisjoint
  \Gamma A C \\\istype \Gamma A}
  {\hastype \Gamma {\tapp e A} {\subst A \alpha B} \yields {\tapp E {\im A}}}
}

% Merge
\newcommand{\rulelabelMerge}{\text{TyMerge}}
\newcommand{\tymerge}{
\inferrule* [right=$\rulelabelMerge$]
  {\hastype \Gamma {e_1} A \yields {E_1} \\
   \hastype \Gamma {e_2} B \yields {E_2} \\
   % A \bot B}
   \isdisjoint \Gamma A B}
  {\hastype \Gamma {e_1 \mergeOp e_2} {A \intersect B} \yields {\pair {E_1} {E_2}}}
}

% ConstraintIntro
\newcommand{\rulelabelConstraintIntro}{\text{TyConstraintIntro}}
\newcommand{\ruleConstraintIntro}{
  \inferrule* [right=$\rulelabelConstraintIntro$]
    {\istype \Gamma {A_1} \\ \istype \Gamma {A_2} \\
     \hastype {\Gamma, A_1 \disjoint A_2} e B \yields E}
    {\hastype \Gamma {\assume {(A_1 \disjoint A_1)} e} {\constraints {A_1   \disjoint A_2} B} \yields E}
}

% ConstraintElim
\newcommand{\rulelabelConstraintElim}{\text{TyConstraintElim}}
\newcommand{\ruleConstraintElim}{
\inferrule* [right=$\rulelabelConstraintElim$]
  {\hastype \Gamma e {\constraints {A_1 \disjoint A_2} B} \yields E \\
  \isdisjoint \Gamma {A_1} {A_2}}
  {\hastype \Gamma {\app e {\_}} B \yields E}
}
