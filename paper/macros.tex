\newcommand{\turns}     {\vdash}

\newcommand{\im}[1]{\lvert #1 \rvert}

\newcommand{\hast}{\!:\!}
\newcommand{\subst}[2]  {\lbrack #1 / #2 \rbrack}

% Relations
\newcommand{\subtype}   {<:}

\definecolor{facebook}{HTML}{3B5998}
\newcommand{\yields}[1]{\textcolor{facebook}{\; \hookrightarrow {#1}}}

% Spacing
\newcommand{\binderspacing}{\,}
\newcommand{\appspacing}{\;}

% Types
\newcommand{\Forall}[2]{\forall #1. \binderspacing #2}
\newcommand{\RecTy}[2]{\{ #1 \hast #2 \}}
\newcommand{\Intersect}{\with}
\newcommand{\Pair}[2]{(#1, #2)}

% Expressions
\newcommand{\Lam}[3]{\lambda (#1 \hast #2).\binderspacing #3}
\newcommand{\BLam}[2]{\Lambda #1.\binderspacing #2}
\newcommand{\App}[2]{#1 \appspacing #2}
\newcommand{\TApp}[2]{#1 \appspacing #2}
\newcommand{\Merge}{,,}
\newcommand{\RecCon}[2]{\{ #1 = #2 \}}
\newcommand{\RecUpd}[3]{#1 \; \mathbf{with} \; \{#2 = #3\}}
\newcommand{\Proj}[2]{{\texttt{proj}}_{#1} #2}

\newcommand{\code}[1]{\texttt{#1}}

% Types
\newcommand{\Int}{\code{Int}}
\newcommand{\Bool}{\code{Bool}}

% Judgments
\newcommand{\judgeget}[3]{#1 \bullet #2 = #3}
\newcommand{\judgeput}[5]{#1 \blacktriangleleft \RecTy {#2} {#3} = #4 \lfloor #5 \rfloor}

% Rules

% Subtyping rules
\newcommand{\rulesub}{\bm{\textcolor{OliveGreen}{\subtype}}}
\newcommand{\rulesubvar}{\rulesub\text{var}}
\newcommand{\rulesubfun}{\rulesub\to}
\newcommand{\rulesubforall}{\rulesub\forall}
\newcommand{\rulesubintersect}{\rulesub\Intersect}
\newcommand{\rulesubintersectl}{\rulesub{\Intersect}_1}
\newcommand{\rulesubintersectr}{\rulesub{\Intersect}_2}
\newcommand{\rulesubrec}{\rulesub\{\}}

% Source/elaboration typing rules
\newcommand{\rulelabele}{\bm{\textcolor{Blue}{E}}}
\newcommand{\rulelabelevar}{\rulelabele\text{var}}
\newcommand{\rulelabelelam}{\rulelabele\text{lam}}
\newcommand{\rulelabeleapp}{\rulelabele\text{app}}
\newcommand{\rulelabeleblam}{\rulelabele\text{blam}}
\newcommand{\rulelabeletapp}{\rulelabele\text{tapp}}
\newcommand{\rulelabelemerge}{\rulelabele\text{merge}}
\newcommand{\rulelabelereccon}{\rulelabele\text{rec-con}}
\newcommand{\rulelabelerecproj}{\rulelabele\text{rec-proj}}
\newcommand{\rulelabelerecupd}{\rulelabele\text{rec-upd}}

% Target typing rules
\newcommand{\rulelabelt}{\bm{\textcolor{Magenta}{T}}}
\newcommand{\rulelabeltvar}{\rulelabelt\text{var}}
\newcommand{\rulelabeltlam}{\rulelabelt\text{lam}}
\newcommand{\rulelabeltapp}{\rulelabelt\text{app}}
\newcommand{\rulelabeltblam}{\rulelabelt\text{blam}}
\newcommand{\rulelabelttapp}{\rulelabelt\text{tapp}}
\newcommand{\rulelabeltpair}{\rulelabelt\text{pair}}
\newcommand{\rulelabeltprojleft}{\rulelabelt\text{proj}_1}
\newcommand{\rulelabeltprojright}{\rulelabelt\text{proj}_2}

% Get rules
\newcommand{\rulelabelget}{\textcolor{Brown}{\text{get}}}
\newcommand{\rulelabelgetleft}{{\rulelabelget}_1}
\newcommand{\rulelabelgetright}{{\rulelabelget}_2}

% Put rules
\newcommand{\rulelabelput}{\textcolor{Brown}{\text{put}}}
\newcommand{\rulelabelputleft}{{\rulelabelput}_1}
\newcommand{\rulelabelputright}{{\rulelabelput}_2}


% Presentation
\definecolor{lightyellow}{HTML}{FFFFE0}
\newcommand{\highlight}[1]{\colorbox{lightyellow}{#1}}


% To be retired
\newcommand{\meta}[2]{{\textit{#1}} (#2)}
\newcommand{\ftv}[1]{\meta{ftv}({#1})}
\newcommand{\turnsget}{\vdash_{\textrm{get}}}
\newcommand{\turnsput}{\vdash_{\textrm{put}}}
\newcommand{\turnsrec}{\vdash_{\textrm{rec}}}
\newcommand{\rulename}[1]{(\textrm{#1})}

