\newcommand{\formsub}{\framebox{$ \jsub \Gamma A B \yields E $}}

\newcommand{\makelabelsub}[1]{Sub\_#1}

\newcommand{\labelsubvar}{\makelabelsub Var}
\newcommand{\rulesubvar}{
  \inferrule* [right=\labelsubvar]
    { }
    {\jsub \Gamma \alpha \alpha \yields {\lamty x {\im \alpha} x}}
}

\newcommand{\labelsubfun}{\makelabelsub Fun}
\newcommand{\rulesubfun}{
  \inferrule* [right=\labelsubfun]
    {\jsub \Gamma {B_1} {A_1} \yields {E_1} \\
     \jsub \Gamma {A_2} {B_2} \yields {E_2}}
    {\jsub \Gamma {A_1 \to A_2} {B_1 \to B_2}
    \yields
        {\lamty f {\im {A_1 \to A_2}}
        {\lamty x {\im {B_1}}
            {\app {E_2} {(\app f {(\app {E_1} x)})}}}}}
}

\newcommand{\labelsubforall}{\makelabelsub Forall}
\newcommand{\rulesubforall}{
  \inferrule* [right=\labelsubforall]
    {\jsub \Gamma {A_1} {\subst {\alpha_1} {\alpha_2} A_2} \yields E}
    {\jsub \Gamma {\for {\alpha_1} A_1} {\for {\alpha_2} A_2}
      \yields
        {\lamty f {\im {\for {\alpha_1} A_1}}
          {\blam \alpha {\app E {(\app f \alpha)}}}}}
}

\newcommand{\labelsubinter}{\makelabelsub Inter}
\newcommand{\rulesubinter}{
  \inferrule* [right=\labelsubinter]
    {\jsub \Gamma {A_1} {A_2} \yields {E_1} \\
     \jsub \Gamma {A_1} {A_3} \yields {E_2}}
    {\jsub \Gamma {A_1} {A_2 \inter A_3}
      \yields
        {\lamty x {\im {A_1}}
          {\pair {\app {E_1} x} {\app {E_2} x}}}}
}

\newcommand{\labelsubinterl}{\makelabelsub {Inter\_1}}
\newcommand{\rulesubinterl}{
  \inferrule* [right=\labelsubinterl]
    {\jsub \Gamma {A_1} {A_3} \yields E}
    {\jsub \Gamma {A_1 \inter A_2} {A_3}
      \yields
        {\lamty x {\im {A_1 \inter A_2}}
          {\app E {(\proj 1 x)}}}}
}

\newcommand{\rulesubinterldis}{
\inferrule* [right=\labelsubinterl]
    {\jsub \Gamma {A_1} {A_3} \yields E \\ \highlight{$\jatomic {A_3}$}}
    {\jsub \Gamma {A_1 \inter A_2} {A_3}
      \yields
        {\lamty x {\im {A_1 \inter A_2}}
          {\app E {(\proj 1 x)}}}}
}

\newcommand{\labelsubinterr}{\makelabelsub {Inter\_2}}
\newcommand{\rulesubinterr}{
  \inferrule* [right=\labelsubinterr]
    {\jsub \Gamma {A_2} {A_3} \yields E}
    {\jsub \Gamma {A_1 \inter A_2} {A_3}
      \yields
        {\lamty x {\im {A_1 \inter A_2}}
          {\app E {(\proj 2 x)}}}}
}

\newcommand{\rulesubinterrdis}{
  \inferrule* [right=\labelsubinterr]
    {\jsub \Gamma {A_2} {A_3} \yields E \\ \highlight{$\jatomic {A_3}$}}
    {\jsub \Gamma {A_1 \inter A_2} {A_3}
      \yields
        {\lamty x {\im {A_1 \inter A_2}}
          {\app E {(\proj 2 x)}}}}
}
